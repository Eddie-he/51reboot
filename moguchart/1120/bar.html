<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
  body{
    background-color: #eee;
  }
    .pull-left{
      display: inline-block;
      float: right;
      margin-left: 10px;
      margin-right: 10px;
    }
    #main{
      display: inline-block;
      /*float: left;*/
      margin-right: 10px;

    }
  </style>
</head>
<body>
        <div style="width: 900px;padding-right:20px;">
          

  <label for="" class='pull-left'>
    <input type="checkbox" checked> 主场
  </label>
  <label for="" class='pull-left'>
    <input type="checkbox" checked> 客场
  </label>
    <select name="" id="selecttype" class='pull-left'>
    
    <option value="0">得分</option>
    <option value="14">篮板</option>
    <option value="17">助攻</option>
  </select>
        </div>
        <div id="main" style="width: 1000px;height:300px;"></div>

    <script src="../echarts.min.js"></script>
    <script src="../lodash.min.js"></script>
    <script src='../jquery.min.js'></script>
    <script>
      
// 球队  时间  果 场 比赛  投篮  命中  出手  三分  命中  出手  罚球  命中  出手  篮板  前场  后场  助攻  抢断  盖帽  失误  犯规  得分
let title = '球队  时间  果 场 比赛  投篮  命中  出手  三分  命中  出手  罚球  命中  出手  篮板  前场  后场  助攻  抢断  盖帽  失误  犯规  得分'.split(' ').filter(v=>v)
let result = `休斯顿火箭 2016-11-01  负 客 骑士128-120火箭 47.8% 43  90  38.6% 17  44  68.0% 17  25  32  11  21  30  5 2 7 25  120
休斯顿火箭 2016-03-29  胜 客 骑士100-106火箭 48.1% 38  79  36.0% 9 25  50.0% 21  42  55  14  41  23  7 5 14  24  106
休斯顿火箭 2016-01-15  负 主 骑士91-77火箭 35.1% 26  74  24.0% 6 25  65.5% 19  29  40  10  30  15  10  6 18  20  77
休斯顿火箭 2015-03-01  胜 主 骑士103-105火箭 45.9% 34  74  36.7% 11  30  78.8% 26  33  36  8 28  21  11  5 19  20  105
休斯顿火箭 2015-01-07  胜 客 骑士93-105火箭  45.3% 39  86  35.3% 12  34  62.5% 15  24  50  19  31  26  9 3 17  22  105
休斯顿火箭 2014-03-22  胜 客 骑士111-118火箭 48.1% 38  79  34.3% 12  35  88.2% 30  34  31  5 26  31  9 10  13  18  118
休斯顿火箭 2014-02-01  胜 主 骑士92-106火箭  51.2% 41  80  26.9% 7 26  70.8% 17  24  44  10  34  24  8 7 17  12  106
休斯顿火箭 2013-03-22  胜 主 骑士78-116火箭  57.1% 44  77  34.5% 10  29  66.7% 18  27  54  13  41  26  8 6 22  18  116
休斯顿火箭 2013-01-05  胜 客 骑士104-112火箭 46.8% 37  79  35.3% 12  34  72.2% 26  36  43  12  31  23  11  4 17  23  112
休斯顿火箭 2012-03-11  负 客 骑士118-107火箭 51.2% 44  86  47.1% 8 17  64.7% 11  17  39  9 30  25  5 6 13  25  107
休斯顿火箭 2011-02-23  胜 客 骑士119-124火箭 47.0% 47  100 37.0% 10  27  71.4% 20  28  57  22  35  28  7 6 10  14  124
休斯顿火箭 2010-12-11  胜 主 骑士95-110火箭  48.8% 39  80  46.2% 12  26  87.0% 20  23  48  10  38  20  4 5 15  21  110
休斯顿火箭 2009-12-27  负 客 骑士108-83火箭  32.9% 25  76  32.0% 8 25  73.5% 25  34  37  5 32  18  5 4 16  17  83
休斯顿火箭 2009-12-09  胜 主 骑士85-95火箭 40.5% 32  79  42.9% 9 21  71.0% 22  31  37  7 30  19  9 3 13  21  95
休斯顿火箭 2009-02-26  胜 主 骑士74-93火箭 49.3% 35  71  42.1% 8 19  83.3% 15  18  39  5 34  25  4 6 12  20  93
休斯顿火箭 2008-12-23  负 客 骑士99-90火箭 43.1% 31  72  41.7% 10  24  85.7% 18  21  32  6 26  20  8 2 16  21  90
休斯顿火箭 2008-02-19  胜 客 骑士85-93火箭 40.5% 32  79  34.8% 8 23  70.0% 21  30  47  8 39  23  7 8 12  19  93
休斯顿火箭 2008-02-07  胜 主 骑士77-92火箭 43.5% 37  85  29.6% 8 27  66.7% 10  15  55  17  38  29  3 5 9 12  92
休斯顿火箭 2007-03-05  负 客 骑士91-85火箭 36.0% 32  89  36.0% 9 25  63.2% 12  19  58  19  39  18  6 5 15  16  85
休斯顿火箭 2006-12-02  胜 主 骑士63-81火箭 39.2% 29  74  36.4% 8 22  78.9% 15  19  55  13  42  20  5 7 14  15  81
休斯顿火箭 2006-03-26  负 主 骑士104-102火箭 48.6% 35  72  50.0% 7 14  86.2% 25  29  42  5 37  20  3 6 16  18  102
休斯顿火箭 2006-01-05  胜 客 骑士81-90火箭 44.6% 33  74  33.3% 6 18  72.0% 18  25  37  10  27  17  10  5 10  14  90
休斯顿火箭 2005-03-24  胜 主 骑士80-99火箭 47.8% 33  69  39.1% 9 23  82.8% 24  29  48  7 41  22  6 8 16  16  99
休斯顿火箭 2004-12-29  胜 客 骑士87-98火箭 46.4% 39  84  50.0% 6 12  66.7% 14  21  38  9 29  24  3 4 8 24  98
休斯顿火箭 2004-02-25  胜 主 骑士84-90火箭 42.2% 35  83  33.3% 5 15  68.2% 15  22  48  12  36  19  8 7 9 16  90
休斯顿火箭 2003-12-17  胜 客 骑士85-89火箭 45.7% 37  81  27.3% 6 22  90.0% 9 10  45  6 39  23  5 11  10  19  89
休斯顿火箭 2003-02-05  负 客 骑士105-102火箭 48.7% 38  78  28.6% 4 14  73.3% 22  30  39  10  29  17  8 10  15  19  102
休斯顿火箭 2002-11-19  胜 主 骑士80-97火箭 50.7% 38  75  0.0%  0 4 72.4% 21  29  48  13  35  18  3 5 11  18  97
休斯顿火箭 2002-02-06  负 客 骑士111-109火箭 48.2% 41  85  46.2% 6 13  80.8% 21  26  33  9 24  21  8 6 9 20  109
休斯顿火箭 2001-12-11  负 主 骑士107-102火箭 45.0% 36  80  50.0% 9 18  87.5% 21  24  33  12  21  20  8 3 11  15  102
休斯顿火箭 2001-02-17  胜 主 骑士80-92火箭 38.6% 32  83  42.9% 9 21  90.5% 19  21  45  15  30  15  9 5 13  19  92
休斯顿火箭 2001-01-02  胜 客 骑士95-100火箭  45.2% 38  84  34.8% 8 23  76.2% 16  21  43  12  31  21  8 4 8 23  100
休斯顿火箭 2000-03-20  负 客 骑士98-85火箭 46.1% 35  76  23.1% 3 13  52.2% 12  23  39  8 31  29  10  6 20  18  85
休斯顿火箭 2000-02-08  胜 主 骑士83-91火箭 44.7% 38  85  27.3% 6 22  60.0% 9 15  40  7 33  21  14  4 14  18  91
休斯顿火箭 1999-03-13  胜 主 骑士89-100火箭  54.3% 38  70  34.8% 8 23  80.0% 16  20  38  9 29  29  8 7 19  15  100
休斯顿火箭 1998-01-06  负 客 骑士100-70火箭  32.9% 23  70  26.3% 5 19  82.6% 19  23  29  7 22  16  12  6 21  24  70
休斯顿火箭 1997-10-31  胜 主 骑士86-94火箭 49.3% 33  67  26.7% 4 15  70.6% 24  34  42  9 33  26  9 8 24  29  94
休斯顿火箭 1997-03-27  胜 主 骑士89-107火箭  51.4% 36  70  52.4% 11  21  75.0% 24  32  45  11  34  29  7 3 18  24  107
休斯顿火箭 1997-01-08  胜 客 骑士78-81火箭 38.1% 24  63  29.6% 8 27  80.6% 25  31  43  13  30  20  13  2 22  21  81
休斯顿火箭 1996-03-21  负 主 骑士98-85火箭 43.9% 29  66  44.4% 8 18  86.4% 19  22  28  9 19  22  7 1 15  20  85
休斯顿火箭 1996-02-22  胜 客 骑士80-86火箭 41.5% 27  65  63.6% 14  22  75.0% 18  24  38  8 30  23  8 6 14  18  86
休斯顿火箭 1995-02-27  胜 主 骑士78-86火箭 47.9% 35  73  18.8% 3 16  92.9% 13  14  37  8 29  27  6 3 16  24  86
休斯顿火箭 1994-11-08  胜 客 骑士98-100火箭  52.0% 39  75  52.6% 10  19  92.3% 12  13  37  6 31  29  8 7 19  22  100
休斯顿火箭 1994-01-25  胜 主 骑士93-96火箭 44.2% 38  86  42.9% 6 14  82.4% 14  17  40  8 32  32  8 6 11  16  96
休斯顿火箭 1993-12-05  胜 客 骑士98-99火箭 49.4% 38  77  47.6% 10  21  76.5% 13  17  35  5 30  26  6 8 12  16  99
休斯顿火箭 1992-12-15  负 客 骑士124-97火箭  46.6% 41  88  22.2% 2 9 72.2% 13  18  30  13  17  23  11  6 15  20  97
休斯顿火箭 1992-11-19  胜 主 骑士92-99火箭 53.8% 43  80  60.0% 6 10  53.8% 7 13  42  11  31  31  10  5 17  19  99
休斯顿火箭 1991-12-30  负 客 骑士121-89火箭  40.2% 37  92  28.6% 2 7 54.2% 13  24  40  15  25  29  8 4 16  22  89
休斯顿火箭 1991-11-07  胜 主 骑士86-105火箭  50.0% 46  92  27.3% 3 11  90.9% 10  11  48  14  34  21  5 7 12  20  105
休斯顿火箭 1991-02-07  胜 客 骑士92-96火箭 50.0% 40  80  40.0% 4 10  92.3% 12  13  37  11  26  30  13  2 15  20  96
休斯顿火箭 1991-01-26  胜 主 骑士97-103火箭  49.4% 39  79  30.8% 4 13  77.8% 21  27  40  10  30  15  16  2 26  24  103
休斯顿火箭 1990-01-17  胜 主 骑士98-107火箭  53.6% 45  84  50.0% 2 4 78.9% 15  19  47  13  34  35  5 11  17  23  107
休斯顿火箭 1989-11-25  胜 客 骑士75-85火箭 40.2% 39  97  33.3% 2 6 83.3% 5 6 63  21  42  21  4 5 11  17  85
休斯顿火箭 1989-02-20  负 客 骑士110-90火箭  44.2% 38  86  33.3% 2 6 63.2% 12  19  42  14  28  26  14  6 23  24  90
休斯顿火箭 1988-12-06  胜 主 骑士105-106火箭 52.2% 47  90  0.0%  0 3 75.0% 12  16  47  13  34  20  12  7 19  18  106
休斯顿火箭 1988-01-28  负 主 骑士109-85火箭  36.8% 35  95  20.0% 1 5 70.0% 14  20  43  18  25  11  4 6 18  24  85
休斯顿火箭 1987-11-19  胜 客 骑士97-105火箭  49.4% 40  81  0.0%  0 2 75.8% 25  33  42  12  30  23  16  7 22  26  105
休斯顿火箭 1987-01-19  胜 客 骑士103-127火箭 50.5% 50  99  50.0% 2 4 89.3% 25  28  58  16  42  28  9 9 15  31  127
休斯顿火箭 1986-01-28  胜 主 骑士109-116火箭 48.8% 41  84  33.3% 2 6 84.2% 32  38  44  15  29  30  13  1 22  28  116
休斯顿火箭 1985-12-17  胜 客 骑士94-98火箭 41.5% 39  94  0.0%  0 2 71.4% 20  28  46  20  26  20  11  12  12  17  98`

// 球队0  时间1  果2 场3 比赛4 投篮5  命中6  出手7  三分8  命中9  出手10  罚球11  命中12  出手13  篮板14  前场15  后场16  助攻17  抢断18  盖帽19  失误20  犯规21  得分22


$('#selecttype').on('change',function(){
  // console.log(this.value)
})

let resultArr = result.split('\n')
var xAxisData = [];
var data1 = [];
var data2 = [];


for( let r of resultArr){
    let temp = r.split(' ').filter(v=>v)
    let score = temp[4].split('-')
    xAxisData.push(temp[1]);
    let data1Color,data2Color
    if (temp[2]=='胜') {
data1Color = '#91c7ae'
data2Color = '#c23531'


    }else{
data1Color = '#c23531'
data2Color = '#91c7ae'

    }

          data1.push({
        value:-score[0].slice(2,score[0].length),
        itemStyle:{
          normal:{
            color:data1Color,
            opacity:Math.random()*0.5+0.3
          }
        }
      })

      data2.push({
        name:temp[3]+'场'+temp[2],
        value:score[1].slice(0,score[1].length-2),
        itemStyle:{
          normal:{
            color:data2Color,
            opacity:temp[6]/100

          }
        }
      })
    // data1.push((Math.random() * 2).toFixed(2));
    // data2.push(-Math.random().toFixed(2));

  // console.log()
}



        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据




var itemStyle = {
    normal: {
    },
    emphasis: {
        barBorderWidth: 1,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0,0,0,0.5)'
    }
};

option = {
    backgroundColor: '#eee',
    legend: {
      show:false,
        data: ['bar', 'bar2'],
        align: 'left',
        left: 10
    },
    brush: {
        show:false,
        toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],
        xAxisIndex: 0
    },
    toolbox: {
      show:false,
        feature: {
            magicType: {
                type: ['stack', 'tiled']
            },
            dataView: {}
        }
    },
    tooltip: {
trigger:'axis',
formatter:function(param){
  let qishi = param[0]
  let huo = param[1]
  console.log(huo)
  console.log(qishi)
  return '火箭'+huo.data.value+qishi.data.value+'骑士<br>'+huo.data.name
}
    },
    xAxis: {
        data: xAxisData,
        name: '',
        axisLabel:{
        show:false,

        },
        silent: false,
        axisLine: {onZero: true},
        splitLine: {show: false},
        splitArea: {show: false}
    },
    yAxis: {
        // inverse: true,
        splitArea: {show: false},
        axisLabel:{
          formatter:function(value){
            if (value<0) {
              return -value
            }
            return value
          }
        }
    },
    grid: {
        left: 100
    },
    series: [
        {
            // barGap:'100%',
            barWidth:5,
            // barCategoryGap:'100%',
            name: 'bar',
            type: 'bar',
            stack: 'one',
            itemStyle: itemStyle,
            data: data1
        },
        {
            // barGap:'100%',
            // barCategoryGap:'100%',
            name: 'bar2',
            type: 'bar',
            stack: 'one',
            itemStyle: itemStyle,
            data: data2
        }
    ]
};

myChart.on('brushSelected', renderBrushed);

function renderBrushed(params) {
    var brushed = [];
    var brushComponent = params.batch[0];

    for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {
        var rawIndices = brushComponent.selected[sIdx].dataIndex;
        brushed.push('[Series ' + sIdx + '] ' + rawIndices.join(', '));
    }

    myChart.setOption({
        title: {
            backgroundColor: '#333',
            text: 'SELECTED DATA INDICES: \n' + brushed.join('\n'),
            bottom: 0,
            right: 0,
            width: 100,
            textStyle: {
                fontSize: 12,
                color: '#fff'
            }
        }
    });
}



        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>
</html>